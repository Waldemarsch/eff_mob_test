# Тестовое задание для Effective Mobile
В этом репозитории содержится мое решение для тестового задания. 
Мною не сделан **только пункт 9** по причине нехватки времени до дедлайна. Остальные успешно имплементированы.

## Что необходимо было сделать
1) Сервис слушает очередь Apache Kafka "FIO", в которую приходит информация с ФИО в формате:
![image](https://github.com/Waldemarsch/eff_mob_test/assets/66421136/88974aec-4fd1-4b0c-894a-7caf97c5dd22)
2) В случае некорректного сообщения, обогатить его причиной ошибки (нет обязательного поля, некорректный формат...) и отправить в очередь Apache Kafka "FIO_FAILED";
3) Корректное сообщение обогатить:
  - Возрастом - https://api.agify.io/?name=Dmitriy
  - Полом - https://api.genderize.io/?name=Dmitriy-
  - Национальностью - https://api.nationalize.io/?name=Dmitriy
4) Обогащенное сообщение положить в БД postgres (структура БД должна быть создана путем миграций)
5) Выставить REST методы:
  - Для получения данных с различными фильтрами и пагинацией
  - Для добавления новых людей
  - Для удаления по идентификатору
  - Для изменения сущности
6) Выставить GraphQL методы, аналогичные пункту 5;
7) Предусмотреть кэширование данных в Redis;
8) Покрыть код логами;
9) Покрыть бизнес-логику Unit тестами;
10) Вынести все конфигурационные данные в .env.


## Структура проекта

Структуру проекта создавал исходя из канонов **чистой архитектуры** с тремя уровнями логики: ***handler***, ***service*** и ***repository***, и взаимодействием через интерфейсы.

## Postgres и Redis

Postgres и Redis запускал посредством запуска контейнеров в Docker - так очень удобно и быстро их развертывать и использовать.

## Миграции

Миграции расположены в папке *./schema*.

## GraphQL

Вся имплементация **GraphQL** расположена в папке *./graph*, и также сам сервер **GraphQL** имлементирован мною в структуру рутера **Gin**.

